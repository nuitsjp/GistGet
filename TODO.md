# GistGet TODO List

## 📋 運用ルール

- **完了済みフェーズ**: 何をしたかの記録（変更不要）
- **残りタスク**: フェーズレベルの大まかな計画（全体把握用）
- **次フェーズ**: 具体的な手順チェックシート（実作業用）
- **1フェーズ完了**: 次フェーズを詳細化し、完了フェーズに移動

## 🔒 セキュリティ強化タスク

### トークンのDPAPI暗号化
- **現状**: GitHub認証トークンが平文で保存されている (`%APPDATA%\GistGet\token.json`)
- **目標**: Windows DPAPI (Data Protection API) による暗号化保存
- **実装箇所**: `GitHubAuthService.cs` の `SaveTokenAsync` / `LoadTokenAsync` メソッド
- **優先度**: 高（セキュリティ脆弱性）

**実装手順**:
- [ ] `System.Security.Cryptography.ProtectedData` を使用してトークンを暗号化
- [ ] `DataProtectionScope.CurrentUser` での暗号化実装
- [ ] 既存の平文トークンファイルからの移行処理
- [ ] 復号化失敗時の再認証プロンプト機能
- [ ] 暗号化保存のテストケース追加

### トークンの定期的な更新機能
- **現状**: 取得したトークンは無期限で使用される
- **目標**: 定期的なトークンの更新によるセキュリティ向上
- **実装箇所**: `GitHubAuthService.cs` および新規スケジューラー機能
- **優先度**: 中（セキュリティ向上）

**実装手順**:
- [ ] トークン有効期限チェック機能の実装
- [ ] トークン更新（refresh）機能の調査・実装
- [ ] バックグラウンドでの自動更新スケジューラー
- [ ] 更新失敗時の再認証フロー
- [ ] トークン更新のログ・通知機能
- [ ] 設定可能な更新間隔（デフォルト30日）

